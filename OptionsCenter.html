<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>An Investor (AI) — Options Knowledge Hub</title>
  <meta name="description" content="Modern, accessible, dark‑mode options trading education: calls vs. puts, risk, pricing, greeks, calculators, payoff diagrams, glossary, and FAQs." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0e1116;            /* page background */
      --panel: #12161d;         /* panel background */
      --card: #0f141a;          /* card background */
      --elev: #0b0f14;          /* elevated/hover */
      --border: #1d2a36;        /* borders */
      --text: #e6f0f2;          /* primary text */
      --muted: #b8c7cc;         /* secondary text */
      --brand: #00b3b3;         /* teal */
      --brand-2: #3ec7a7;       /* green‑teal */
      --brand-3: #3da8f5;       /* blue */
      --danger: #ff5f73;
      --warn: #ffcc66;
      --good: #57d69a;
      --shadow: 0 10px 30px rgba(0,0,0,.45);
      --radius: 16px;
      --radius-sm: 12px;
      --radius-lg: 22px;
      --maxw: 1200px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 10% -10%, rgba(61,168,245,0.08), transparent),
                  radial-gradient(800px 500px at 90% 10%, rgba(0,179,179,0.08), transparent),
                  var(--bg);
      color: var(--text);
      line-height: 1.55;
    }

    a { color: var(--brand-3); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Header */
    .topbar {
      position: sticky; top: 0; z-index: 1000;
      backdrop-filter: saturate(130%) blur(10px);
      background: linear-gradient(180deg, rgba(5,8,12,0.85), rgba(5,8,12,0.65));
      border-bottom: 1px solid var(--border);
    }
    .topbar-inner {
      margin: 0 auto; max-width: var(--maxw); padding: 14px 20px; display: flex; align-items: center; gap: 16px;
    }
    .logo {
      display: flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: .4px;
    }
    .logo-badge { width: 36px; height: 36px; border-radius: 12px; display: grid; place-items: center; font-weight: 800; 
      background: linear-gradient(135deg, var(--brand), var(--brand-3)); color: #031318; box-shadow: var(--shadow);
    }
    .logo span { font-size: 17px; color: var(--text); }
    /* Common gray background for both */
    
    .back-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 14px;
    padding: 6px;
    background: rgba(255,255,255,0.15); /* lighter gray */
    transition: background 0.2s ease;
    }

    /* Circle for arrow */
    .back-arrow {
    border-radius: 50%;
    }
    .back-arrow:hover {
    background: rgba(255,255,255,0.25);
    }

    .search {
      margin-left: auto; position: relative; flex: 1; max-width: 420px;
    }
    .search input {
      width: 100%; background: var(--card); border: 1px solid var(--border); color: var(--text);
      padding: 12px 42px 12px 44px; border-radius: 12px; outline: none; transition: border .2s ease;
    }
    .search input:focus { border-color: var(--brand-2); box-shadow: 0 0 0 3px rgba(0,179,179,.15); }
    .search svg { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); opacity: .7; }
    .kbd { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: var(--muted); font-size: 12px; border: 1px solid var(--border); padding: 2px 6px; border-radius: 6px; opacity: .85; }

    /* Layout */
    .layout { display: grid; grid-template-columns: 280px 1fr; gap: 22px; max-width: var(--maxw); margin: 28px auto; padding: 0 20px 60px; }
    @media (max-width: 980px) { .layout { grid-template-columns: 1fr; } .toc { position: static; height: auto; } }

    /* Sidebar TOC */
    .toc { position: sticky; top: 76px; height: calc(100vh - 90px); overflow: auto; padding: 18px; border: 1px solid var(--border); border-radius: var(--radius); background: linear-gradient(180deg, rgba(17,24,31,.55), rgba(17,24,31,.35)); }
    .toc h3 { margin: 6px 0 14px; font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: .08em; color: var(--muted); }
    .toc a { display: block; padding: 8px 10px; border-radius: 10px; color: var(--muted); border: 1px solid transparent; }
    .toc a:hover { color: var(--text); border-color: var(--border); background: var(--elev); }
    .toc a.active { color: var(--text); background: linear-gradient(90deg, rgba(0,179,179,.18), rgba(61,168,245,.18)); border-color: rgba(0,179,179,.3); }
    .toc .group { margin-bottom: 12px; }

    /* Main */
    .hero { background: linear-gradient(135deg, rgba(0,179,179,.18), rgba(61,168,245,.14)); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 26px; box-shadow: var(--shadow); }
    .hero h1 { margin: 0 0 10px; font-size: 34px; letter-spacing: .3px; }
    .hero p { margin: 0; color: var(--muted); max-width: 70ch; }
    .tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 14px; }
    .tag { font-size: 12px; padding: 6px 10px; border: 1px solid var(--border); border-radius: 999px; color: var(--muted); background: rgba(15,20,26,.55); }

    .grid { margin-top: 22px; display: grid; grid-template-columns: repeat(12, 1fr); gap: 18px; }
    .card { grid-column: span 6; background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); padding: 18px; box-shadow: var(--shadow); }
    .card h3 { margin: 0 0 10px; font-size: 18px; }
    .card p { margin: 0; color: var(--muted); }
    @media (max-width: 900px){ .card { grid-column: span 12; } }

    .pill {
      display: inline-flex; align-items: center; gap: 8px; font-size: 12px; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border);
      background: linear-gradient(180deg, #0b1117, #0f171f);
    }

    /* Sections */
    section { scroll-margin-top: 90px; }
    .section { margin-top: 32px; background: var(--panel); border: 1px solid var(--border); border-radius: var(--radius); padding: 22px; box-shadow: var(--shadow); }
    .section h2 { margin-top: 0; font-size: 24px; }
    .muted { color: var(--muted); }

    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
    @media (max-width: 900px){ .two-col { grid-template-columns: 1fr; } }

    /* Definition list */
    .defs { display: grid; grid-template-columns: 1.2fr 2fr; gap: 12px; }
    .defs dt { font-weight: 600; color: var(--text); }
    .defs dd { margin: 0; color: var(--muted); }

    /* Accordion */
    .accordion { border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; }
    .acc-item + .acc-item { border-top: 1px solid var(--border); }
    .acc-head { width: 100%; text-align: left; background: #0c1016; color: var(--text); border: 0; padding: 16px; font-weight: 600; display: flex; align-items: center; justify-content: space-between; cursor: pointer; }
    .acc-body { max-height: 0; overflow: hidden; transition: max-height .25s ease; background: #0d131a; }
    .acc-body-inner { padding: 16px; color: var(--muted); }
    .chev { transition: transform .25s ease; opacity: .8; }
    .acc-item.open .chev { transform: rotate(180deg); }

    /* Calculator */
    .calc { display: grid; grid-template-columns: repeat(2, 1fr); gap: 14px; }
    .calc .field { display: grid; gap: 6px; }
    .calc label { font-size: 13px; color: var(--muted); }
    .calc input, .calc select {
      background: var(--card); border: 1px solid var(--border); color: var(--text);
      padding: 10px 12px; border-radius: 10px; outline: none;
    }
    .calc input:focus, .calc select:focus { border-color: var(--brand); box-shadow: 0 0 0 3px rgba(0,179,179,.15); }
    .calc .actions { grid-column: 1 / -1; display: flex; gap: 10px; align-items: center; }
    .btn { background: linear-gradient(135deg, var(--brand), var(--brand-3)); color: #04222a; border: 0; padding: 10px 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }
    .btn:disabled { opacity: .6; cursor: not-allowed; }

    .result { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 12px; }
    .metric { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
    .metric .k { font-size: 12px; color: var(--muted); }
    .metric .v { font-size: 20px; font-weight: 800; }

    /* Payoff diagram */
    .chart { background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); padding: 12px; height: 260px; position: relative; overflow: hidden; }
    .axis { position: absolute; left: 44px; right: 10px; bottom: 36px; top: 10px; border-left: 1px solid #274155; border-bottom: 1px solid #274155; }
    .line { position: absolute; left: 44px; right: 10px; bottom: 36px; top: 10px; }
    .line:before { content: ""; position: absolute; inset: 0; background:
      linear-gradient( to right, rgba(0,179,179,.55), rgba(61,168,245,.55) );
      mask: linear-gradient(#fff 0 0) 0 0 / 100% 2px no-repeat;
      -webkit-mask: linear-gradient(#fff 0 0) 0 0 / 100% 2px no-repeat;
    }
    .legend { position: absolute; right: 10px; top: 10px; font-size: 12px; color: var(--muted); background: #0b0f14; border: 1px solid var(--border); padding: 6px 8px; border-radius: 8px; }

    /* Tables */
    table { width: 100%; border-collapse: collapse; overflow: hidden; border-radius: 12px; }
    th, td { text-align: left; padding: 12px; border-bottom: 1px solid var(--border); }
    thead th { background: #0d131a; font-size: 12px; text-transform: uppercase; letter-spacing: .06em; color: var(--muted); }
    tbody tr:hover { background: #0c1117; }

    /* Footer */
    footer { margin: 40px auto 80px; max-width: var(--maxw); padding: 0 20px; color: var(--muted); }
    .disclaimer { border: 1px dashed #274155; border-radius: 12px; padding: 14px; background: #0b0f14; }

    /* Utilities */
    .row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
    .right { margin-left: auto; }
    .code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size: 12px; background: #0c1219; padding: 2px 6px; border: 1px solid var(--border); border-radius: 6px; }
    .sep { height: 1px; background: var(--border); margin: 16px 0; }
  </style>
</head>
<body>
  <header class="topbar" role="banner">
    <div class="topbar-inner">
        <a href="index.html" class="back-arrow" title="Back to Home">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none">
            <path d="M19 12H5M12 5l-7 7 7 7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        </a>
        <img src="../AnInvestorLogo.png" alt="An Investor (AI) Logo" style="height:40px; width:auto; margin-right:14px;" />
        <span>An Investor <span style="opacity:.7">(Options Hub)</span></span>
      <nav class="row" aria-label="Primary">
        <a href="#overview" class="pill">Overview</a>
        <a href="#calls-puts" class="pill">Calls vs Puts</a>
        <a href="#greeks" class="pill">Greeks</a>
        <a href="#risk" class="pill">Risk</a>
        <a href="#calculator" class="pill">Calculator</a>
        <a href="#glossary" class="pill">Glossary</a>
      </nav>
      <div class="search" role="search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#8db0bd" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="#8db0bd" stroke-width="2"/></svg>
        <input id="search" placeholder="Search topics… ( / )" aria-label="Search" />
        <div class="kbd">/</div>
      </div>
    </div>
  </header>

  <main class="layout" id="content">
    <!-- Sidebar Table of Contents -->
    <aside class="toc" aria-label="On this page">
      <h3>Contents</h3>
      <div class="group">
        <a href="#overview" class="toc-link">Overview</a>
        <a href="#calls-puts" class="toc-link">Calls vs Puts</a>
        <a href="#pricing" class="toc-link">Pricing (Premium)</a>
        <a href="#greeks" class="toc-link">The Greeks</a>
        <a href="#risk" class="toc-link">Risk & Position Sizing</a>
        <a href="#strike-breakeven" class="toc-link">Strike & Breakeven</a>
        <a href="#calculator" class="toc-link">Quick Calculator</a>
        <a href="#strategies" class="toc-link">Common Strategies</a>
        <a href="#faq" class="toc-link">FAQs</a>
        <a href="#glossary" class="toc-link">Glossary</a>
      </div>
    </aside>

    <!-- Main Column -->
    <div>
      <div class="hero" id="overview">
        <div class="row">
          <h1>Options Knowledge Hub</h1>
          <span class="right pill" title="Educational use only">Educational</span>
        </div>
        <p>Everything you need to level up your options literacy: from what calls and puts are, to how premium is priced, how to assess risk, and how to pick strikes intelligently. Clean explanations, visual intuition, and practical tools — all in one interface.</p>
        <div class="tags">
          <span class="tag">Calls</span>
          <span class="tag">Puts</span>
          <span class="tag">Volatility</span>
          <span class="tag">Greeks</span>
          <span class="tag">Risk</span>
          <span class="tag">Strategies</span>
        </div>
      </div>

      <div class="grid">
        <div class="card">
          <h3>What is an Option?</h3>
          <p>An option is a contract granting the <em>right</em>, not the obligation, to buy or sell an underlying asset at a specified price (the <strong>strike</strong>) on or before a specified date (the <strong>expiration</strong>). The cost to purchase this right is the <strong>premium</strong>.</p>
        </div>
        <div class="card">
          <h3>American vs. European</h3>
          <p>American‑style options can be exercised any time up to expiration; European‑style can be exercised only at expiration. Many equity options in the U.S. are American‑style; many index options are European‑style.</p>
        </div>
      </div>

      <section class="section" id="calls-puts">
        <h2>Calls vs Puts</h2>
        <div class="two-col">
          <div>
            <h3>Calls (Right to Buy)</h3>
            <p class="muted">A <strong>long call</strong> benefits if the underlying price rises above the strike plus the premium paid. A <strong>short call</strong> collects premium but has theoretically unlimited downside if price rallies.</p>
            <table>
              <thead><tr><th>Position</th><th>Max Profit</th><th>Max Loss</th><th>Breakeven at Expiry</th></tr></thead>
              <tbody>
                <tr><td>Long Call</td><td>Unlimited</td><td>Premium</td><td>Strike + Premium</td></tr>
                <tr><td>Short Call</td><td>Premium</td><td>Theoretical ∞</td><td>Strike + Premium</td></tr>
              </tbody>
            </table>
          </div>
          <div>
            <h3>Puts (Right to Sell)</h3>
            <p class="muted">A <strong>long put</strong> benefits when the underlying falls below the strike minus the premium. A <strong>short put</strong> collects premium but can lose substantially if price drops.</p>
            <table>
              <thead><tr><th>Position</th><th>Max Profit</th><th>Max Loss</th><th>Breakeven at Expiry</th></tr></thead>
              <tbody>
                <tr><td>Long Put</td><td>Strike − Premium (to 0)</td><td>Premium</td><td>Strike − Premium</td></tr>
                <tr><td>Short Put</td><td>Premium</td><td>Strike − Premium (to 0)</td><td>Strike − Premium</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <section class="section" id="pricing">
        <h2>How Premium is Priced</h2>
        <dl class="defs">
          <dt>Intrinsic Value</dt><dd>Immediate value if exercised now. For calls: <span class="code">max(0, S − K)</span>. For puts: <span class="code">max(0, K − S)</span>.</dd>
          <dt>Extrinsic (Time) Value</dt><dd>What you pay for time and volatility beyond intrinsic value. Decays over time (<em>theta</em>).</dd>
          <dt>Implied Volatility (IV)</dt><dd>Market’s forward‑looking volatility estimate embedded in price. Higher IV → higher premium, all else equal.</dd>
          <dt>Parity</dt><dd>Relationships like <span class="code">Call − Put ≈ S − PV(K)</span> under ideal conditions (put‑call parity).</dd>
        </dl>
      </section>

      <section class="section" id="greeks">
        <h2>The Greeks (Risk Sensitivities)</h2>
        <div class="two-col">
          <div>
            <ul>
              <li><strong>Delta</strong> — Price sensitivity to underlying moves (≈ probability of expiring ITM).</li>
              <li><strong>Gamma</strong> — Rate of change of delta; highest near‑the‑money and near expiration.</li>
              <li><strong>Theta</strong> — Time decay; long options <em>lose</em> value daily from theta, short options collect it.</li>
              <li><strong>Vega</strong> — Sensitivity to IV changes; long options benefit when IV rises.</li>
              <li><strong>Rho</strong> — Sensitivity to interest rates; more relevant for longer‑dated options.</li>
            </ul>
          </div>
          <div>
            <div class="chart" aria-label="Payoff diagram placeholder">
              <div class="axis"></div>
              <div class="line"></div>
              <div class="legend">Example payoff — Long Call</div>
            </div>
            <p class="muted" style="margin-top:10px">This is a lightweight visual placeholder. We can wire this to live data or render exact payoff curves with your backend later.</p>
          </div>
        </div>
      </section>

      <section class="section" id="risk">
        <h2>Risk & Position Sizing</h2>
        <div class="two-col">
          <div>
            <ul>
              <li><strong>Define risk per trade</strong> (e.g., 0.5–2% of account).</li>
              <li><strong>Use position sizing</strong> so max loss (usually premium for long options) stays within risk budget.</li>
              <li><strong>Avoid over‑concentration</strong> in one ticker, sector, or single expiration.</li>
              <li><strong>Mind liquidity</strong>: tight bid/ask spreads and stable open interest help with fills.</li>
              <li><strong>Volatility regimes</strong>: prefer selling premium when IV is high (with risk controls), buying when IV is low relative to history.</li>
            </ul>
          </div>
          <div class="accordion" role="region" aria-label="Risk tips">
            <div class="acc-item">
              <button class="acc-head" aria-expanded="false">Credit vs Debit strategies <svg class="chev" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="#9ab7c1" stroke-width="2" stroke-linecap="round"/></svg></button>
              <div class="acc-body"><div class="acc-body-inner">Debit trades (long options) define risk up front: the premium paid. Credit trades (short options/spreads) collect premium but can have larger tail risk if unhedged.</div></div>
            </div>
            <div class="acc-item">
              <button class="acc-head" aria-expanded="false">Assignment & Margin <svg class="chev" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="#9ab7c1" stroke-width="2" stroke-linecap="round"/></svg></button>
              <div class="acc-body"><div class="acc-body-inner">Short options can be assigned early (American style). Know your broker’s margin rules and collateral requirements for cash‑secured puts or covered calls.</div></div>
            </div>
            <div class="acc-item">
              <button class="acc-head" aria-expanded="false">Event risk (Earnings) <svg class="chev" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="#9ab7c1" stroke-width="2" stroke-linecap="round"/></svg></button>
              <div class="acc-body"><div class="acc-body-inner">Earnings and macro events often elevate IV into the date, then IV crush can follow. Plan spreads or reduce exposure into catalysts.</div></div>
            </div>
          </div>
        </div>
      </section>

      <section class="section" id="strike-breakeven">
        <h2>Strike Selection & Breakeven</h2>
        <p class="muted">Picking a strike connects thesis, timeframe, and probability. A higher‑delta call costs more but needs less move to breakeven; a lower‑delta call is cheaper but needs a bigger move. Similar logic applies to puts.</p>
        <div class="two-col">
          <div>
            <table>
              <thead><tr><th>Delta</th><th>Typical Use</th><th>Trade‑off</th></tr></thead>
              <tbody>
                <tr><td>~0.70</td><td>Directional conviction</td><td>Higher cost, quicker breakeven</td></tr>
                <tr><td>~0.50</td><td>Balanced</td><td>Moderate cost and move needed</td></tr>
                <tr><td>~0.30</td><td>Lottery‑style</td><td>Low cost, larger move required</td></tr>
              </tbody>
            </table>
          </div>
          <div>
            <ul>
              <li><strong>Breakeven (Long Call)</strong>: <span class="code">Strike + Premium</span></li>
              <li><strong>Breakeven (Long Put)</strong>: <span class="code">Strike − Premium</span></li>
              <li><strong>Timeframe</strong>: Shorter expirations are cheaper but decay faster; longer expirations cost more and decay slower.</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="section" id="calculator">
        <h2>Quick Option Calculator</h2>
        <p class="muted">Fast breakeven and simple risk metrics for single‑leg long/short calls and puts. (Educational; not investment advice.)</p>
        <div class="calc" role="form" aria-label="Option calculator">
          <div class="field">
            <label for="cType">Position Type</label>
            <select id="cType">
              <option value="long-call">Long Call</option>
              <option value="short-call">Short Call</option>
              <option value="long-put">Long Put</option>
              <option value="short-put">Short Put</option>
            </select>
          </div>
          <div class="field">
            <label for="under">Underlying Price (S)</label>
            <input id="under" type="number" step="0.01" value="100" />
          </div>
          <div class="field">
            <label for="strike">Strike (K)</label>
            <input id="strike" type="number" step="0.01" value="100" />
          </div>
          <div class="field">
            <label for="premium">Premium (per share)</label>
            <input id="premium" type="number" step="0.01" value="3.50" />
          </div>
          <div class="actions">
            <button class="btn" id="calcBtn">Calculate</button>
            <span class="muted">Assumes 100 shares/contract; ignores fees and assignment timing.</span>
          </div>
        </div>
        <div class="result" id="result" aria-live="polite" style="display:none">
          <div class="metric"><div class="k">Breakeven at Expiry</div><div class="v" id="rBe">—</div></div>
          <div class="metric"><div class="k">Max Profit</div><div class="v" id="rMaxP">—</div></div>
          <div class="metric"><div class="k">Max Loss</div><div class="v" id="rMaxL">—</div></div>
        </div>
      </section>

      <section class="section" id="strategies">
        <h2>Common Strategies (At a Glance)</h2>
        <table>
          <thead><tr><th>Strategy</th><th>Bias</th><th>Risk</th><th>Reward</th><th>Notes</th></tr></thead>
          <tbody>
            <tr><td>Covered Call</td><td>Neutral to mildly bullish</td><td>Downside in shares</td><td>Premium + capped upside</td><td>Own 100 shares per call; income focus</td></tr>
            <tr><td>Cash‑Secured Put</td><td>Neutral to mildly bullish</td><td>Down to 0</td><td>Premium</td><td>Plan to own shares at strike</td></tr>
            <tr><td>Long Call</td><td>Bullish</td><td>Premium</td><td>Unlimited</td><td>Needs move above K + premium</td></tr>
            <tr><td>Long Put</td><td>Bearish</td><td>Premium</td><td>To 0 − premium</td><td>Hedge or directional play</td></tr>
            <tr><td>Vertical Debit Spread</td><td>Directional</td><td>Premium (net)</td><td>Limited</td><td>Reduces cost & theta vs single leg</td></tr>
            <tr><td>Iron Condor</td><td>Range‑bound</td><td>Limited</td><td>Limited</td><td>Profits if price stays inside range</td></tr>
          </tbody>
        </table>
      </section>

      <section class="section" id="faq">
        <h2>FAQs</h2>
        <div class="accordion">
          <div class="acc-item">
            <button class="acc-head" aria-expanded="false">What’s the difference between ITM, ATM, and OTM? <svg class="chev" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="#9ab7c1" stroke-width="2" stroke-linecap="round"/></svg></button>
            <div class="acc-body"><div class="acc-body-inner">In‑the‑money (ITM) options have intrinsic value; at‑the‑money (ATM) are near the current price; out‑of‑the‑money (OTM) have no intrinsic value.</div></div>
          </div>
          <div class="acc-item">
            <button class="acc-head" aria-expanded="false">Why does my option lose value even if price didn’t move? <svg class="chev" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="#9ab7c1" stroke-width="2" stroke-linecap="round"/></svg></button>
            <div class="acc-body"><div class="acc-body-inner">Time decay (theta) reduces extrinsic value daily. Also, a drop in implied volatility (IV crush) can reduce premium.</div></div>
          </div>
          <div class="acc-item">
            <button class="acc-head" aria-expanded="false">Can I be assigned early? <svg class="chev" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="#9ab7c1" stroke-width="2" stroke-linecap="round"/></svg></button>
            <div class="acc-body"><div class="acc-body-inner">Yes, for American‑style options, particularly around ex‑dividend dates or deep ITM positions. Manage assignment risk accordingly.</div></div>
          </div>
        </div>
      </section>

      <section class="section" id="glossary">
        <h2>Glossary</h2>
        <div class="two-col">
          <div>
            <dl class="defs">
              <dt>Strike (K)</dt><dd>The agreed price to buy (call) or sell (put) the underlying.</dd>
              <dt>Expiration</dt><dd>The last day the option is valid. After that, it ceases to exist.</dd>
              <dt>Premium</dt><dd>The price paid/received for the option contract.</dd>
              <dt>IV (Implied Volatility)</dt><dd>Market’s estimate of future volatility, reflected in option prices.</dd>
            </dl>
          </div>
          <div>
            <dl class="defs">
              <dt>Theta</dt><dd>Rate at which option loses value over time, all else equal.</dd>
              <dt>Delta</dt><dd>Price sensitivity to changes in underlying price.</dd>
              <dt>Gamma</dt><dd>Rate of change of delta with respect to price.</dd>
              <dt>Vega</dt><dd>Price sensitivity to IV changes.</dd>
            </dl>
          </div>
        </div>
      </section>

      <footer>
        <div class="disclaimer">
          <strong>Disclaimer:</strong> This page is for educational purposes only and is not financial advice. Options involve risk and are not suitable for all investors. Always consider your objectives and risk tolerance.
        </div>
      </footer>
    </div>
  </main>

  <script>
    // Smooth scroll & active link highlighting
    const links = document.querySelectorAll('.toc-link');
    const sections = [...links].map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);

    function onScroll(){
      const y = window.scrollY + 120;
      let activeIndex = 0;
      sections.forEach((sec, i) => { if (sec.offsetTop <= y) activeIndex = i; });
      links.forEach((l, i) => l.classList.toggle('active', i === activeIndex));
    }
    window.addEventListener('scroll', onScroll);
    onScroll();

    // Local smooth scrolling
    links.forEach(l => l.addEventListener('click', e => { e.preventDefault(); document.querySelector(l.getAttribute('href')).scrollIntoView({behavior:'smooth'});}));

    // Accordion behavior
    document.querySelectorAll('.acc-head').forEach(btn => {
      btn.addEventListener('click', () => {
        const item = btn.closest('.acc-item');
        const body = item.querySelector('.acc-body');
        const open = item.classList.toggle('open');
        btn.setAttribute('aria-expanded', open);
        body.style.maxHeight = open ? body.scrollHeight + 'px' : 0;
      });
    });

    // Search (client‑side filter by headings and paragraph text)
    const searchInput = document.getElementById('search');
    const content = document.getElementById('content');
    function doSearch(q){
      const query = q.trim().toLowerCase();
      document.querySelectorAll('.section').forEach(sec => {
        const txt = sec.textContent.toLowerCase();
        sec.style.display = query && !txt.includes(query) ? 'none' : '';
      });
    }
    searchInput.addEventListener('input', e => doSearch(e.target.value));
    window.addEventListener('keydown', e => { if(e.key === '/') { e.preventDefault(); searchInput.focus(); } });

    // Calculator
    const $ = id => document.getElementById(id);
    const fmt = n => (isFinite(n)? new Intl.NumberFormat(undefined, {maximumFractionDigits: 2}).format(n) : '—');
    const calcBtn = $('calcBtn');
    const result = $('result');

    function calc(){
      const type = $('cType').value;
      const S = parseFloat($('under').value);
      const K = parseFloat($('strike').value);
      const premium = parseFloat($('premium').value);
      if([S,K,premium].some(v => isNaN(v))) return;

      let breakeven, maxProfit, maxLoss;
      const premC = premium * 100; // contract cost/credit

      switch(type){
        case 'long-call':
          breakeven = K + premium;
          maxProfit = Infinity; // display as ∞
          maxLoss = premC;
          break;
        case 'short-call':
          breakeven = K + premium;
          maxProfit = premC;
          maxLoss = Infinity;
          break;
        case 'long-put':
          breakeven = K - premium;
          maxProfit = Math.max((K * 100) - premC, 0);
          maxLoss = premC;
          break;
        case 'short-put':
          breakeven = K - premium;
          maxProfit = premC;
          maxLoss = Math.max((K * 100) - premC, 0);
          break;
      }

      // Render
      result.style.display = 'grid';
      document.getElementById('rBe').textContent = '$' + fmt(breakeven);
      document.getElementById('rMaxP').textContent = (maxProfit === Infinity ? 'Unlimited' : '$' + fmt(maxProfit));
      document.getElementById('rMaxL').textContent = (maxLoss === Infinity ? 'Theoretical ∞' : '$' + fmt(maxLoss));
    }
    calcBtn.addEventListener('click', calc);
  </script>
  <script>
  // If this page has a sidebar (e.g., included in a layout), highlight the link
  document.querySelectorAll('#sidebar a').forEach(a => {
    if (a.getAttribute('href') && location.pathname.endsWith(a.getAttribute('href'))) {
      a.classList.add('active');
      a.classList.remove('text-white');
      a.classList.add('text-warning'); // or a custom class if you prefer teal
    }
  });
</script>
</body>
</html>
