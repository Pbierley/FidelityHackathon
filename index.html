<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>An Investor (AI) — Main Menu</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0e1116;            /* page background */
    --panel: #12161d;         /* panel background */
    --card: #0f141a;          /* card background */
    --elev: #0b0f14;          /* elevated/hover */
    --border: #1d2a36;        /* borders */
    --text: #e6f0f2;          /* primary text */
    --muted: #b8c7cc;         /* secondary text */
    --brand: #00b3b3;         /* teal */
    --brand-2: #3ec7a7;       /* green-teal */
    --brand-3: #3da8f5;       /* blue */
    --danger: #ff5f73;
    --warn: #ffcc66;
    --good: #57d69a;
    --shadow: 0 10px 30px rgba(0,0,0,.45);
    --radius: 16px;
    --radius-sm: 12px;
    --radius-lg: 22px;
    --maxw: 1200px;
  }

  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    background: radial-gradient(1200px 600px at 10% -10%, rgba(61,168,245,0.08), transparent),
                radial-gradient(800px 500px at 90% 10%, rgba(0,179,179,0.08), transparent),
                var(--bg);
    color: var(--text);
    line-height: 1.55;
  }

  a { color: var(--brand-3); text-decoration: none; }
  a:hover { text-decoration: underline; }

  /* Header */
  .topbar {
    position: sticky; top: 0; z-index: 1000;
    backdrop-filter: saturate(130%) blur(10px);
    background: linear-gradient(180deg, rgba(5,8,12,0.85), rgba(5,8,12,0.65));
    border-bottom: 1px solid var(--border);
  }
  .topbar-inner {
    margin: 0 auto;
    /* was: max-width: var(--maxw) * 1.05;  (invalid CSS) */
    max-width: calc(var(--maxw) * 1.1); /* 10% wider header */
    padding: 14px 20px;
    display: flex; align-items: center; gap: 16px;
  }
  .logo {
    display: flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: .4px;
  }
  .logo-badge { width: 36px; height: 36px; border-radius: 12px; display: grid; place-items: center; font-weight: 800;
    background: linear-gradient(135deg, var(--brand), var(--brand-3)); color: #031318; box-shadow: var(--shadow);
  }
  .logo span { font-size: 17px; color: var(--text); }

  .back-arrow {
    display: flex; align-items: center; justify-content: center;
    margin-right: 14px; padding: 6px; border-radius: 50%;
    background: rgba(255,255,255,0.15);
    transition: background 0.2s ease;
  }
  .back-arrow:hover { background: rgba(255,255,255,0.25); }

  /* Right side rail holds search + auth pills */
  .right-rail {
    margin-left: auto;
    display: flex; align-items: center; gap: 10px;
    min-width: 0; /* allow shrinking */
  }

  /* Keep search width nice and steady */
  .search {
    position: relative;
    /* original had two .search blocks; this consolidates & allows shrink */
    flex: 0 1 420px; max-width: 420px; margin-left: 0;
    min-width: 0; /* allow shrinking */
  }
  .search input {
    width: 100%; background: var(--card); border: 1px solid var(--border); color: var(--text);
    padding: 12px 42px 12px 44px; border-radius: 12px; outline: none; transition: border .2s ease;
  }
  .search input:focus { border-color: var(--brand-2); box-shadow: 0 0 0 3px rgba(0,179,179,.15); }
  .search svg { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); opacity: .7; }
  .kbd { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: var(--muted); font-size: 12px; border: 1px solid var(--border); padding: 2px 6px; border-radius: 6px; opacity: .85; }

  /* Auth buttons cluster */
  .auth-rail {
    display: flex; gap: 8px; flex-wrap: nowrap; min-width: 0;
  }

  /* Layout */
  .layout { display: grid; grid-template-columns: 280px 1fr; gap: 22px; max-width: var(--maxw); margin: 28px auto; padding: 0 20px 60px; }
  @media (max-width: 980px) { .layout { grid-template-columns: 1fr; } .toc { position: static; height: auto; } }

  /* Sidebar TOC */
  .toc { position: sticky; top: 76px; height: calc(100vh - 90px); overflow: auto; padding: 18px; border: 1px solid var(--border); border-radius: var(--radius); background: linear-gradient(180deg, rgba(17,24,31,.55), rgba(17,24,31,.35)); }
  .toc h3 { margin: 6px 0 14px; font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: .08em; color: var(--muted); }
  .toc a { display: block; padding: 8px 10px; border-radius: 10px; color: var(--muted); border: 1px solid transparent; }
  .toc a:hover { color: var(--text); border-color: var(--border); background: var(--elev); }
  .toc a.active { color: var(--text); background: linear-gradient(90deg, rgba(0,179,179,.18), rgba(61,168,245,.18)); border-color: rgba(0,179,179,.3); }
  .toc .group { margin-bottom: 12px; }

  /* Main */
  .hero { background: linear-gradient(135deg, rgba(0,179,179,.18), rgba(61,168,245,.14)); border: 1px solid var(--border); border-radius: var(--radius-lg); padding: 26px; box-shadow: var(--shadow); }
  .hero h1 { margin: 0 0 10px; font-size: 34px; letter-spacing: .3px; }
  .hero p { margin: 0; color: var(--muted); max-width: 70ch; }
  .tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 14px; }
  .tag { font-size: 12px; padding: 6px 10px; border: 1px solid var(--border); border-radius: 999px; color: var(--muted); background: rgba(15,20,26,.55); }

  .grid { margin-top: 22px; display: grid; grid-template-columns: repeat(12, 1fr); gap: 18px; }
  .card { grid-column: span 12; background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); padding: 18px; box-shadow: var(--shadow); }
  .card h3 { margin: 0 0 10px; font-size: 18px; }
  .card p { margin: 0; color: var(--muted); }
  @media (max-width: 900px){ .card { grid-column: span 12; } }

  .pill {
    display: inline-flex; align-items: center; gap: 8px; font-size: 12px; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border);
    background: linear-gradient(180deg, #0b1117, #0f171f);
    white-space: nowrap; /* <-- keep pill text on one line */
  }

  /* Sections */
  section { scroll-margin-top: 90px; }
  .section { margin-top: 32px; background: var(--panel); border: 1px solid var(--border); border-radius: var(--radius); padding: 22px; box-shadow: var(--shadow); }
  .section h2 { margin-top: 0; font-size: 24px; }
  .muted { color: var(--muted); }

  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
  @media (max-width: 900px){ .two-col { grid-template-columns: 1fr; } }

  /* Definition list */
  .defs { display: grid; grid-template-columns: 1.2fr 2fr; gap: 12px; }
  .defs dt { font-weight: 600; color: var(--text); }
  .defs dd { margin: 0; color: var(--muted); }

  /* Accordion */
  .accordion { border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; }
  .acc-item + .acc-item { border-top: 1px solid var(--border); }
  .acc-head { width: 100%; text-align: left; background: #0c1016; color: var(--text); border: 0; padding: 16px; font-weight: 600; display: flex; align-items: center; justify-content: space-between; cursor: pointer; }
  .acc-body { max-height: 0; overflow: hidden; transition: max-height .25s ease; background: #0d131a; }
  .acc-body-inner { padding: 16px; color: var(--muted); }
  .chev { transition: transform .25s ease; opacity: .8; }
  .acc-item.open .chev { transform: rotate(180deg); }

  /* Calculator */
  .calc { display: grid; grid-template-columns: repeat(2, 1fr); gap: 14px; }
  .calc .field { display: grid; gap: 6px; }
  .calc label { font-size: 13px; color: var(--muted); }
  .calc input, .calc select {
    background: var(--card); border: 1px solid var(--border); color: var(--text);
    padding: 10px 12px; border-radius: 10px; outline: none;
  }
  .calc input:focus, .calc select:focus { border-color: var(--brand); box-shadow: 0 0 0 3px rgba(0,179,179,.15); }
  .calc .actions { grid-column: 1 / -1; display: flex; gap: 10px; align-items: center; }
  .btn { background: linear-gradient(135deg, var(--brand), var(--brand-3)); color: #04222a; border: 0; padding: 10px 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }
  .btn:disabled { opacity: .6; cursor: not-allowed; }

  .result { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 12px; }
  .metric { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
  .metric .k { font-size: 12px; color: var(--muted); }
  .metric .v { font-size: 20px; font-weight: 800; }

  /* Payoff diagram */
  .chart { background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); padding: 12px; height: 260px; position: relative; overflow: hidden; }
  .axis { position: absolute; left: 44px; right: 10px; bottom: 36px; top: 10px; border-left: 1px solid #274155; border-bottom: 1px solid #274155; }
  .line { position: absolute; left: 44px; right: 10px; bottom: 36px; top: 10px; }
  .line:before { content: ""; position: absolute; inset: 0; background:
    linear-gradient( to right, rgba(0,179,179,.55), rgba(61,168,245,.55) );
    mask: linear-gradient(#fff 0 0) 0 0 / 100% 2px no-repeat;
    -webkit-mask: linear-gradient(#fff 0 0) 0 0 / 100% 2px no-repeat;
  }
  .legend { position: absolute; right: 10px; top: 10px; font-size: 12px; color: var(--muted); background: #0b0f14; border: 1px solid var(--border); padding: 6px 8px; border-radius: 8px; }

  /* Tables */
  table { width: 100%; border-collapse: collapse; overflow: hidden; border-radius: 12px; }
  th, td { text-align: left; padding: 12px; border-bottom: 1px solid var(--border); }
  thead th { background: #0d131a; font-size: 12px; text-transform: uppercase; letter-spacing: .06em; color: var(--muted); }
  tbody tr:hover { background: #0c1117; }

  /* Footer */
  footer { margin: 40px auto 80px; max-width: var(--maxw); padding: 0 20px; color: var(--muted); }
  .disclaimer { border: 1px dashed #274155; border-radius: 12px; padding: 14px; background: #0b0f14; }

  /* Utilities */
  .row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
  .right { margin-left: auto; }
  .code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size: 12px; background: #0c1219; padding: 2px 6px; border: 1px solid var(--border); border-radius: 6px; }
  .sep { height: 1px; background: var(--border); margin: 16px 0; }

  /* --- Final overrides to prevent wrapping & allow more room --- */
  .pill { white-space: nowrap; } /* keep “Log In / Sign up” on one line */
  .right-rail, .search, .auth-rail { min-width: 0; } /* allow shrinking */
  .search { flex: 1 1 320px; max-width: 480px; } /* allow smaller than 420 if needed */
  @media (max-width: 1200px) {
    .auth-rail .pill { padding: 8px 10px; font-size: 12px; }
  }

    /* Auth buttons: same look as LoginAuth .btn-primary */
  .ai-btn { 
    display: inline-flex; align-items: center; gap: 8px;
    padding: 10px 14px; border-radius: 12px; font-weight: 700;
    text-decoration: none; border: 0; box-shadow: var(--shadow);
    white-space: nowrap; /* never wrap */
  }
  .ai-btn-primary {
    background: linear-gradient(135deg, var(--brand-2), var(--brand-3));
    color: #fff;
  }
  .ai-btn:hover { filter: brightness(1.05); }
  .ai-btn:active { transform: translateY(1px); }

  /* make room on tighter widths */
  .right-rail, .search, .auth-rail { min-width: 0; }
  .search { flex: 1 1 320px; max-width: 480px; }
  @media (max-width: 1200px) { .auth-rail .ai-btn { padding: 8px 10px; font-size: 12px; } }

</style>

 
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

  <!-- Header -->
  <header class="topbar" role="banner">
    <div class="topbar-inner">
        <!-- <a href="index.html" class="back-arrow" title="Back to Home">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none">
            <path d="M19 12H5M12 5l-7 7 7 7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        </a> -->
        <img src="../AnInvestorLogo.png" alt="An Investor (AI) Logo" style="height:40px; width:auto; margin-right:14px;" />
        <span>An Investor <span style="opacity:.7"></span></span>
    <nav class="row" aria-label="Primary">
      <a href="dashboard.html" class="pill requires-auth" id="linkDashboard">Trading Dashboard</a>
      <a href="OptionsCenter.html" class="pill">Options Hub</a>
      <a href="Portfolio.html" class="pill requires-auth" id="linkPortfolio">Portfolio</a>

    </nav>
      <div class="right-rail">
        <div class="search" role="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 21l-4.35-4.35" stroke="#8db0bd" stroke-width="2" stroke-linecap="round"/>
            <circle cx="11" cy="11" r="7" stroke="#8db0bd" stroke-width="2"/>
          </svg>
          <input id="search" placeholder="Search topics… ( / )" aria-label="Search" />
          <div class="kbd">/</div>
        </div>
        <div class="auth-rail">
          <a href="LoginAuth.html" class="ai-btn ai-btn-primary" id="navAuth">Log In / Sign up</a>
          <a href="#" class="ai-btn ai-btn-primary" id="navLogout" style="display:none">Log out</a>
        </div>
      </div>
    </div>
  </header>

  <div class="layout">
    <!-- Sidebar -->
   
    <aside class="toc">
      <h3>Navigation</h3>
      <div class="group">
        <a href="#markets" class="toc-link">Markets</a>
        <a href="#industries" class="toc-link">Industries</a>
      </div>
    </aside>

    <!-- Main -->
    <main>
      <!-- Hero -->
      <section class="hero">
        <h1>Welcome to An Investor</h1>
        <p>Our hackathon platform for options trading insights. Our goal is to demystify the complexities of options trading while giving a basic overview on markets, industries, porfolio tracking and much more. Everything you need to know to be An Investor.</p>
        <div class="tags">
          <span class="tag">Fidelity Hackathon 2025</span>
          <span class="tag">Options Trading</span>
          <span class="tag">Real Time Dashboards</span>
        </div>
      </section>

      <!-- Markets -->
      <section id="markets" class="section">
        <h2>Markets Overview</h2>
        <div class="grid">
          <div class="card">
            <h3>S&amp;P 500</h3>
            <p>Current Level: <strong>5,210.34</strong></p>
            <span class="pill">+1.2%</span>
            <canvas id="chart-sp500" width="200" height="60"></canvas>
          </div>
          <div class="card">
            <h3>Dow Jones Industrial</h3>
            <p>Current Level: <strong>38,750.22</strong></p>
            <span class="pill danger">-0.4%</span>
            <canvas id="chart-dow" width="200" height="60"></canvas>
          </div>
          <div class="card">
            <h3>Nasdaq Composite</h3>
            <p>Current Level: <strong>16,890.65</strong></p>
            <span class="pill">+2.0%</span>
            <canvas id="chart-nasdaq" width="200" height="60"></canvas>
          </div>
        </div>
      </section>

      <!-- Top Stocks -->
      <section id="industries" class="section">
        <h2>Top Stocks by Industry</h2>
        <!-- Industries -->
<section id="industries" class="section">
  <h2>Industries</h2>
  <div class="grid">
    <!-- Technology -->
    <div class="card">
  <h3>Technology</h3>
  <p class="muted">Leaders in software, hardware, and internet services.</p>
  <table>
    <thead>
      <tr><th>Company</th><th>Price</th><th>Change</th><th>Chart</th></tr>
    </thead>
    <tbody>
      <tr>
        <td>Apple</td>
        <td>$215.32</td>
        <td><span class="pill">+1.5%</span></td>
        <td>
          <canvas id="chart-aapl" width="100" height="40"></canvas>
        </td>
      </tr>
      <tr>
        <td>Google</td>
        <td>$145.67</td>
        <td><span class="pill">+0.9%</span></td>
        <td>
          <canvas id="chart-googl" width="100" height="40"></canvas>
        </td>
      </tr>
      <tr>
        <td>Meta</td>
        <td>$382.14</td>
        <td><span class="pill danger">-0.3%</span></td>
        <td>
          <canvas id="chart-meta" width="100" height="40"></canvas>
        </td>
      </tr>
    </tbody>
  </table>
</div>

    <!-- Healthcare -->
    <div class="card">
      <h3>Healthcare</h3>
      <p class="muted">Companies driving medical innovation and services.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Pfizer</td><td>$41.12</td><td><span class="pill">+0.4%</span></td></tr>
          <tr><td>Johnson &amp; Johnson</td><td>$162.45</td><td><span class="pill danger">-1.2%</span></td></tr>
          <tr><td>Moderna</td><td>$123.90</td><td><span class="pill">+2.7%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Farming -->
    <div class="card">
      <h3>Farming</h3>
      <p class="muted">Agriculture, crop production, and equipment makers.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>John Deere</td><td>$378.21</td><td><span class="pill">+0.8%</span></td></tr>
          <tr><td>Archer Daniels Midland</td><td>$84.56</td><td><span class="pill danger">-0.5%</span></td></tr>
          <tr><td>Bunge Ltd.</td><td>$115.72</td><td><span class="pill">+1.1%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Pharmaceuticals -->
    <div class="card">
      <h3>Pharmaceuticals</h3>
      <p class="muted">Firms focused on drug discovery and treatments.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Novartis</td><td>$94.12</td><td><span class="pill">+0.6%</span></td></tr>
          <tr><td>Merck &amp; Co.</td><td>$124.34</td><td><span class="pill danger">-0.4%</span></td></tr>
          <tr><td>AstraZeneca</td><td>$72.45</td><td><span class="pill">+1.3%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Business Services -->
    <div class="card">
      <h3>Business Services</h3>
      <p class="muted">Consulting, logistics, and professional service firms.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Accenture</td><td>$348.56</td><td><span class="pill">+0.7%</span></td></tr>
          <tr><td>UPS</td><td>$154.89</td><td><span class="pill danger">-0.9%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Energy -->
    <div class="card">
      <h3>Energy</h3>
      <p class="muted">Oil, gas, and renewable energy companies.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>ExxonMobil</td><td>$118.67</td><td><span class="pill">+0.5%</span></td></tr>
          <tr><td>Chevron</td><td>$152.34</td><td><span class="pill danger">-1.1%</span></td></tr>
          <tr><td>NextEra Energy</td><td>$73.45</td><td><span class="pill">+2.4%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Real Estate -->
    <div class="card">
      <h3>Real Estate</h3>
      <p class="muted">Property developers and REITs.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Prologis</td><td>$122.45</td><td><span class="pill">+1.0%</span></td></tr>
          <tr><td>Simon Property Group</td><td>$108.21</td><td><span class="pill danger">-0.7%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Automotive -->
    <div class="card">
      <h3>Automotive</h3>
      <p class="muted">Traditional and electric vehicle manufacturers.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Tesla</td><td>$265.89</td><td><span class="pill danger">-0.8%</span></td></tr>
          <tr><td>Ford</td><td>$12.34</td><td><span class="pill">+0.6%</span></td></tr>
          <tr><td>Toyota</td><td>$193.45</td><td><span class="pill">+1.1%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Finance -->
    <div class="card">
      <h3>Finance</h3>
      <p class="muted">Banks, asset managers, and payment processors.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>JPMorgan Chase</td><td>$167.89</td><td><span class="pill">+0.9%</span></td></tr>
          <tr><td>Goldman Sachs</td><td>$385.21</td><td><span class="pill danger">-0.5%</span></td></tr>
          <tr><td>Visa</td><td>$242.11</td><td><span class="pill">+1.2%</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- Consumer Goods -->
    <div class="card">
      <h3>Consumer Goods</h3>
      <p class="muted">Brands that shape everyday life.</p>
      <table>
        <thead>
          <tr><th>Company</th><th>Price</th><th>Change</th></tr>
        </thead>
        <tbody>
          <tr><td>Procter &amp; Gamble</td><td>$154.45</td><td><span class="pill">+0.3%</span></td></tr>
          <tr><td>Nike</td><td>$98.32</td><td><span class="pill danger">-0.4%</span></td></tr>
          <tr><td>Coca-Cola</td><td>$61.22</td><td><span class="pill">+0.5%</span></td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>


      <!-- Footer -->
      <footer>
        <div class="disclaimer">
          <p><strong>Disclaimer:</strong> This dashboard is a hackathon project and not financial advice. Data shown is mock/demo data.</p>
        </div>
      </footer>
    </main>
  </div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const getCookie = (name) => {
      const c = decodeURIComponent(document.cookie).split('; ');
      let v = null; c.forEach(e => { if (e.indexOf(name + '=') === 0) v = e.substring(name.length + 1); });
      return v;
    };
    const u = getCookie('username');
    const LoginButton = document.getElementById('LoginButton');
    const SignupButton = document.getElementById('SignupButton');
    const LogoutButton = document.getElementById('logoutButton');
    if (u) {
      LoginButton?.classList.add('d-none');
      SignupButton?.classList.add('d-none');
      LogoutButton?.classList.remove('d-none');
    } else {
      LoginButton?.classList.remove('d-none');
      SignupButton?.classList.remove('d-none');
      LogoutButton?.classList.add('d-none');
    }
  });
</script>

<script>

const links = document.querySelectorAll('.toc-link');
    const sections = [...links].map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);

    function onScroll(){
      const y = window.scrollY + 120;
      let activeIndex = 0;
      sections.forEach((sec, i) => { if (sec.offsetTop <= y) activeIndex = i; });
      links.forEach((l, i) => l.classList.toggle('active', i === activeIndex));
    }
    window.addEventListener('scroll', onScroll);
    onScroll();

    // Local smooth scrolling
    links.forEach(l => l.addEventListener('click', e => { e.preventDefault(); document.querySelector(l.getAttribute('href')).scrollIntoView({behavior:'smooth'});}));

    // Accordion behavior
    document.querySelectorAll('.acc-head').forEach(btn => {
      btn.addEventListener('click', () => {
        const item = btn.closest('.acc-item');
        const body = item.querySelector('.acc-body');
        const open = item.classList.toggle('open');
        btn.setAttribute('aria-expanded', open);
        body.style.maxHeight = open ? body.scrollHeight + 'px' : 0;
      });
    });

    function renderMiniChart(canvasId, data, color='#3da8f5') {
      const ctx = document.getElementById(canvasId).getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.map((_, i) => i), // placeholder time axis
          datasets: [{
            data,
            borderColor: color,
            borderWidth: 2,
            fill: false,
            tension: 0.3, // smooth line
            pointRadius: 0
          }]
        },
        options: {
          responsive: false,
          maintainAspectRatio: false,
          layout: {
            padding: 0 // removes extra whitespace
          },
          plugins: { legend: { display: false } },
          scales: {
            x: { display: false, grid: { display: false, drawBorder: false } },
            y: { display: false, grid: { display: false, drawBorder: false } }
          }
        }
      });
    }

// Example demo data
// Demo data (mock)
const sampleUp = [100, 101, 102, 103, 104, 105];
const sampleDown = [200, 199, 198, 197, 196, 195];
const sampleFlat = [50, 50.2, 49.8, 50.1, 50.0, 50.1];

// Markets
renderMiniChart("chart-sp500", sampleUp, "#57d69a");
renderMiniChart("chart-dow", sampleDown, "#ff5f73");
renderMiniChart("chart-nasdaq", sampleUp, "#3da8f5");

// Technology
renderMiniChart("chart-aapl", sampleUp, "#57d69a");
renderMiniChart("chart-googl", sampleUp, "#3da8f5");
renderMiniChart("chart-meta", sampleDown, "#ff5f73");
renderMiniChart("chart-msft", sampleUp, "#57d69a");

// Healthcare
renderMiniChart("chart-pfe", sampleFlat, "#3ec7a7");
renderMiniChart("chart-jnj", sampleDown, "#ff5f73");
renderMiniChart("chart-mrna", sampleUp, "#57d69a");

// Farming
renderMiniChart("chart-de", sampleUp, "#57d69a");
renderMiniChart("chart-adm", sampleFlat, "#3ec7a7");
renderMiniChart("chart-bg", sampleUp, "#3da8f5");

// Pharmaceuticals
renderMiniChart("chart-nvs", sampleUp, "#57d69a");
renderMiniChart("chart-mrk", sampleDown, "#ff5f73");
renderMiniChart("chart-azn", sampleFlat, "#3ec7a7");

// Business
renderMiniChart("chart-acn", sampleUp, "#57d69a");
renderMiniChart("chart-ups", sampleDown, "#ff5f73");

// Energy
renderMiniChart("chart-xom", sampleUp, "#57d69a");
renderMiniChart("chart-cvx", sampleDown, "#ff5f73");
renderMiniChart("chart-nee", sampleUp, "#3ec7a7");

// Real Estate
renderMiniChart("chart-pld", sampleUp, "#57d69a");
renderMiniChart("chart-spg", sampleDown, "#ff5f73");
renderMiniChart("chart-cbre", sampleFlat, "#3ec7a7");

// Automotive
renderMiniChart("chart-tsla", sampleDown, "#ff5f73");
renderMiniChart("chart-f", sampleUp, "#57d69a");
renderMiniChart("chart-tm", sampleUp, "#3da8f5");

// Finance
renderMiniChart("chart-jpm", sampleUp, "#57d69a");
renderMiniChart("chart-gs", sampleDown, "#ff5f73");
renderMiniChart("chart-v", sampleUp, "#3da8f5");

// Consumer Goods
renderMiniChart("chart-pg", sampleUp, "#57d69a");
renderMiniChart("chart-nke", sampleDown, "#ff5f73");
renderMiniChart("chart-ko", sampleFlat, "#3ec7a7");
</script>
<script>
  (function () {
    function getCookie(name) {
      const c = decodeURIComponent(document.cookie).split('; ');
      let v = null; c.forEach(e => { if (e.indexOf(name + '=') === 0) v = e.substring(name.length + 1); });
      return v;
    }
    function deleteCookies() {
      document.cookie.split(';').forEach(cookie => {
        const eq = cookie.indexOf('=');
        const nm = (eq > -1 ? cookie.substring(0, eq) : cookie).trim();
        document.cookie = nm + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/';
      });
    }

    const isAuthed = () => !!getCookie('username');
    const navAuth   = document.getElementById('navAuth');
    const navLogout = document.getElementById('navLogout');

    // Toggle auth / logout pills on load
    if (isAuthed()) {
      if (navAuth)   navAuth.style.display = 'none';
      if (navLogout) navLogout.style.display = '';
    } else {
      if (navAuth)   navAuth.style.display = '';
      if (navLogout) navLogout.style.display = 'none';
    }

    // Gate any link that requires auth
    document.querySelectorAll('a.requires-auth').forEach(a => {
      a.addEventListener('click', (e) => {
        if (!isAuthed()) {
          e.preventDefault();
          const dest = a.getAttribute('href') || '/';
          window.location.href = `LoginAuth.html?redirect=${encodeURIComponent(dest)}`;
        }
      });
    });

    // Logout: wipe cookies and refresh
    navLogout?.addEventListener('click', (e) => {
      e.preventDefault();
      deleteCookies();
      window.location.reload();
    });
  })();
</script>

</body>
</html>
